<div class="group-pro-c post-login-component">
  <div class="spacing"></div>

  <div class="pre-g-profile">
    <div class="name-location">
      <h2 appLazyLoadText>{{ groupName }}</h2>
      <h3 appLazyLoadText>
        <mat-icon class="location-icon">location_pin</mat-icon> Hartford, CT
        <span class="vert-div">|</span> {{ group.payoutSystem }}
      </h3>
    </div>
    <div class="action-box">
      <button 
      [matTooltip]="isOpen() ? '' : 'Sorry, this group is full'"
      [disabled]="!isOpen()" 
      mat-icon-button (click)="joinGroup()"
      >
        <mat-icon class="add-icon">group_add</mat-icon>
      </button>
    </div>
  </div>

  <div class="group-dashboard">
    <div class="group-profile posh-container">
      <div class="group-status">
        <div>
          Status:
          <mat-icon
            *ngIf="isOpen(); else full"
            class="open"
            #tooltip="matTooltip"
            matTooltip="This group is open"
            (click)="tooltip.show()"
            >circle</mat-icon
          >
        </div>
        <ng-template #full>
          <mat-icon
            class="full"
            #tooltip="matTooltip"
            matTooltip="This group is full"
            (click)="tooltip.show()"
            >lock</mat-icon
          >
        </ng-template>
      </div>
      <div class="group-circle">
        <app-group-circle
          [groupMembers]="group.groupMembers"
          [groupLeader]="group.groupLeader"
        ></app-group-circle>
      </div>
      <div class="group-strength">
        <div>
          <app-group-strength [group]="group!"></app-group-strength>
        </div>
      </div>
      <div class="group-details two-items">
        <h2>Savings Target</h2>
        <div class="outer-progress">
          <div
            class="inner-progress"
            appProgressAnimation
            [startDate]="group!.startDate"
            [endDate]="group!.endDate"
          ></div>
        </div>
        <p>{{ group.savingsTarget | currency }}</p>
      </div>
      <div class="group-details two-items highlight">
        <h2>Contribution</h2>
        <mat-divider class="horiz-divider"></mat-divider>
        <p>{{ group.contribution }}</p>
      </div>
      <div class="group-details two-items">
        <h2>Group Size</h2>
        <mat-divider class="horiz-divider"></mat-divider>
        <p>{{ group.groupSize }}</p>
      </div>
      <div class="group-details two-items">
        <h2>Start Date</h2>
        <mat-divider class="horiz-divider"></mat-divider>
        <p>{{ group.startDate | date }}</p>
      </div>
      <div class="group-details two-items">
        <h2>End Date</h2>
        <mat-divider class="horiz-divider"></mat-divider>
        <p>{{ group.endDate | date }}</p>
      </div>
    </div>
  </div>
</div>
